{% extends "base.html" %}
{% block content %}
<button id="rzp-button1"class="btn btn-warning">Pay with Razorpay</button>
{% comment %} <button  type="button" class="btn btn-warning">Pay with Razorpay</button> {% endcomment %}
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
    var options = {
        "key": "rzp_test_vUuRGMVovGGIMN",
        "amount": "{{payment.amount}}",
        "currency": "INR",
        "name": "FRESH JUICE & SNACKS CENTER",
        "description": "Test Transaction",
        "image": "https://example.com/your_logo",
        "order_id": "{{payment.id}}",
        "prefill": {
            "name": "Gaurav Kumar",
            "email": "gaurav.kumar@example.com",
            "contact": "9000091234"
        },
        "notes": {
            "address": "Razorpay Corporate Office"
        },
        "theme": {
            "color": "#3399cc"
        },
        "handler": function (response) {
            // Redirect to homepage after payment success
            window.location.href = "/";
        },
        "modal": {
            "ondismiss": function () {
                // Optional: Handle when user closes the Razorpay modal
                console.log("Payment modal closed");
            }
        }
    };
    
    var rzp1 = new Razorpay(options);
    
    document.getElementById('rzp-button1').onclick = function (e) {
        rzp1.open();
        e.preventDefault();
    };
    
</script>
{% endblock %}